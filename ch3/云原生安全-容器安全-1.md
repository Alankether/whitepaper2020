---
authors: [""]
reviewers: [""]
---
### 基础架构安全

在云原生架构下，Kubernetes提供了良好的抽象可以和底层云基础架构进行紧密交互，比如可以利用Cloud Provider Controller，为服务创建相应的Loadbalancer实例，可以进行节点弹性伸缩。这引入了一个挑战，如何让容器平台和云安全体系结合在一起；比如是否可以通过云账号体系，如阿里云的RAM，实现基于角色的细粒度访问控制；如何对K8S的人为和自动化操作实现有效审计；如何和KMS等秘钥管理机制结合在一起。

基础架构安全作为整个云原生安全框架的基石，需要充分利用其公有云/专有云底座的平台安全能力，保证平台具备如下安全特性：
- 平台安全合规性；
- 基于VPC和安全组的网络隔离能力；
- 完备的云安全服务能力，包括云客户安全和云厂商安全在IaaS层的软件/硬件/物理数据中心等的安全（包括主机安全防护、云数据全链路加密能力、资源访问控制能力和审计能力等）；
- 基础设施的region化和HA能力。

### 可信软件供应链
容器化软件交付是现代软件供应链的最佳实践，可以加速DevOps理念沉淀落地。可以利用持续集成/持续交付流水线，将代码构建为Docker镜像，并进行端到端测试、预发验证和生产部署。其中的枢纽是作为软件资产仓库的镜像仓库，如Docker Hub和阿里云容器镜像服务。“Garbage in garbage out”，我们需要保障整个软件供应链的安全，才能规避潜在安全风险部署上线，并且一旦发现风险，能够可靠评估其影响面，并及时可靠地对其进行修复。可信软件供应链将帮助企业从DevOps进化到DevSecOps，在提升研发效率的同时控制系统安全风险。

如下几个安全特性是可信软件供应链层需要具备的：
- 基于CVE的容器镜像扫描和高风险阻断部署能力；
- 基于自定义ACL规则的镜像仓库网络访问控制；
- 镜像签名和验签能力；
- 应用交付全链路可观测，可追踪，可自主设置。
###  运行时安全

监控、异常活动检测、隔离是容器应用运行时刻安全防护的关键要素。在运行时刻我们需要保障线上系统可以动态感知系统安全风险，并及时做出响应。这里涉及到容器架构自身的安全性，如容器安全与资源隔离，Kubernetes集群安全性，网络策略支持等底层能力。同时需要对容器运行时行为监测，对异常操作、攻击等问题及时告警、阻断；另外在应用测，也需要业务需求考虑如何与容器提供的分布式安全能力有机地结合在一起，比如实现多租户场景下的安全隔离。如下特性是运行时刻需要具备的几个关键安全能力：
- 容器运行时刻安全防护能力，包括进程异常行为检测、网站后门、文件查杀、恶意脚本攻击和异常网络连接检测等能力；
- 安全沙箱容器，基于轻量化虚拟技术实现容器内核粒度的强隔离；
- 集群支持基于NetworkPolicy的应用间东西向流量的细粒度访问控制；
- 在多租场景下，开启Kubernetes集群默认安全配置，包括RBAC访问控制，secret encryption at REST和基于CIS benchmarks的系统组件安全配置加固；同时通过PSP等原生安全特性限制容器运行时刻的安全能力；对于隔离程度要求较高的场景，使用安全沙箱容器和动态策略引擎等强隔离手段保证多租安全。
